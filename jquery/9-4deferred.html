<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>


    <script src="./jquery/jquery-3.3.1.js"></script>
    <script>
        // å»¶è¿Ÿ
        // var df = $.Deferred();
        // done æˆåŠŸ   fail å¤±è´¥  progress æ­£åœ¨è¿›è¡Œ
        // resolve    reject     notify
        //done or failä¹‹ä¸­åªè¦æœ‰ä¸€ä¸ªè¢«è§¦å‘äº† åŽé¢å°±éƒ½ä¸ä¼šè§¦å‘äº†


        // åšä¸€ä»¶å¼‚æ­¥çš„äº‹æƒ…
        // function createScore () {
        //     var df = $.Deferred();
        //     setInterval(function () {
        //         var score = Math.random() * 100;
        //         if (score > 60) {
        //             df.resolve('congradulation!!!');
        //         }else if (score < 50) {
        //             df.reject('get out');
        //         }else {
        //             df.notify('go on');
        //         }
        //     }, 1500);
        //     // done fail progress
        //     return df.promise();
        // }

        // var df = createScore();
    
        // // æ³¨å†ŒæˆåŠŸçš„å›žè°ƒå‡½æ•°
        // //å¯ä»¥æŽ¥å—å¤šä¸ªå‚æ•°ðŸ˜¯å“¦
        // df.done(function (ms) {
        //     console.log('oh yeah I do it' + ' ' + ms);
        // });

        // // æ³¨å†Œå¤±è´¥çš„å›žè°ƒå‡½æ•°
        // df.fail(function (ms) {
        //     console.log('sorry I am loser' + ' ' + ms);
        // });


        // // æ³¨å†Œè¿›è¡Œæ—¶çš„å‡½æ•°
        // df.progress(function (ms) {
        //     console.log('waiting...' + ' ' + ms);
        // });        
        

        //è‡ªå·±ç»ƒä¹ å†™ä¸€ä¸‹
        function createScore(){
            var df = $.Deferred();
            setInterval(function(){
                var score = Math.random()*100;
                if(score>60){
                    df.resolve();
                }else if(score<50){
                    df.reject();
                }else{
                    df.notify();
                }
            },1000);
            return df.promise();
        }

        var df = createScore();

        df.done(function(){
            console.log("wo we made it");
        });
        df.fail(function(){
            console.log("no  we failed ");
        });

        df.progress(function(){
            console.log("waiting ing```");
        });

    </script>
</body>
</html>